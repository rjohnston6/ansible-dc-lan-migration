---
# Full Switch Provisioning Playbook
# This playbook executes all provisioning playbooks in sequence
# from 1.0 to 1.8 to fully provision switches via NDFC

- name: Full Switch Provisioning - Execute All Playbooks in Sequence
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Display provisioning start message
      ansible.builtin.debug:
        msg: |
          ═══════════════════════════════════════════════════════════════════════
          FULL SWITCH PROVISIONING - STARTING
          ═══════════════════════════════════════════════════════════════════════
          This will execute the following playbooks in sequence:
            1.0 - Preprovision New Switches
            1.1 - Create Discovery User
            1.2 - Provision Features
            1.3 - Deploy VPC Domain
            1.4 - Provision Interfaces (L2, VPC, SVI)
            1.5 - Provision VLAN Policies
            1.6 - Provision Default Route
            1.7 - Check POAP Status
            1.8 - Bootstrap Switches
          ═══════════════════════════════════════════════════════════════════════

# 1.0 - Preprovision New Switches
- name: "Step 1.0 - Preprovision New Switches"
  ansible.builtin.import_playbook: 1.0-preprovision-new-switches.yml

# 1.1 - Create Discovery User
- name: "Step 1.1 - Create Discovery User"
  ansible.builtin.import_playbook: 1.1-create-discovery-user.yml

# 1.2 - Provision Features
- name: "Step 1.2 - Provision Features"
  ansible.builtin.import_playbook: 1.2-provision-features.yml

# 1.3 - Deploy VPC Domain
- name: "Step 1.3 - Deploy VPC Domain"
  ansible.builtin.import_playbook: 1.3-deploy-vpc-domain.yml

# 1.4 - Provision Interfaces
- name: "Step 1.4 - Provision Interfaces"
  ansible.builtin.import_playbook: 1.4-provision-interfaces.yml

# 1.5 - Provision VLAN Policies
- name: "Step 1.5 - Provision VLAN Policies"
  ansible.builtin.import_playbook: 1.5-provision-vlan-policies.yml

# 1.6 - Provision Default Route
- name: "Step 1.6 - Provision Default Route"
  ansible.builtin.import_playbook: 1.6-provision-default-route.yml

# 1.7 - Check POAP Status
- name: "Step 1.7 - Check POAP Status"
  ansible.builtin.import_playbook: 1.7-check-poap-status.yml

# 1.8 - Bootstrap Switches
- name: "Step 1.8 - Bootstrap Switches"
  ansible.builtin.import_playbook: 1.8-bootstrap-switches.yml

# Completion message
- name: Full Switch Provisioning - Complete
  hosts: localhost
  gather_facts: false
  
  tasks:
    - name: Display provisioning completion message
      ansible.builtin.debug:
        msg: |
          ═══════════════════════════════════════════════════════════════════════
          FULL SWITCH PROVISIONING - COMPLETE
          ═══════════════════════════════════════════════════════════════════════
          All provisioning playbooks have been executed successfully.
          ═══════════════════════════════════════════════════════════════════════
