#==============================================================================
# VRF Database for Fabric: {{ fabric_name }}
#==============================================================================
# Generated by: 1.0-profile-existing-switches.yml
#
# Contains VRF definitions discovered from each switch.
#==============================================================================

switches:
{% for switch_name, switch_data in fabric_vrfs.items() %}
  {{ switch_name }}:
    vrfs:
{% for vrf in switch_data.vrfs | default([]) %}
      - name: "{{ vrf.name }}"
{% if vrf.description is defined and vrf.description %}
        description: "{{ vrf.description }}"
{% endif %}
{% if vrf.rd is defined and vrf.rd %}
        rd: "{{ vrf.rd }}"
{% endif %}
{% if vrf.vni is defined and vrf.vni %}
        vni: "{{ vrf.vni }}"
{% endif %}
{% endfor %}
{% if switch_data.vrfs | default([]) | length == 0 %}
      []
{% endif %}
{% endfor %}
