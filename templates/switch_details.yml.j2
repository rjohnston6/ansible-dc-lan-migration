#==============================================================================
# Template: Switch Details Inventory Generator
#==============================================================================
# Purpose: Generate human-readable YAML inventory files with switch hardware
#          details including serial numbers, models, and software versions
#
# Input Variables:
#   - fabric_name: Name of the fabric
#   - fabric_switches: List of switch profiles for the fabric
#     Structure: [{hostname, ip_address, serial_number, model, software_version, role}]
#
# Output: YAML file with switch hardware details organized by hostname
#
# Details Tracked:
#   - Hostname and IP address
#   - Serial number (hardware serial from ansible_net_serialnum)
#   - License Host ID (used by NDFC for switch identification)
#   - Hardware model (e.g., N9K-C9300v)
#   - Software version (e.g., 10.6(1))
#   - Role (access, aggregation, core, etc.)
#
# Use Cases:
#   - Populate inventory for NDFC switch discovery API
#   - Track hardware details for replacement scenarios
#   - Document switch inventory for compliance and auditing
#==============================================================================

# Switch Details for Fabric: {{ fabric_name }}
# Generated by Ansible automation

switches:
{% for switch in fabric_switches %}
  - hostname: {{ switch.hostname }}
    ip_address: {{ switch.ip_address }}
    serial_number: {{ switch.source_serial_number }}
    license_hostid: {{ switch.license_hostid }}
    model: {{ switch.target_model }}
    software_version: "{{ switch.sw_version }}"
    role: {{ switch.role }}
{% endfor %}
